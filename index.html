<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quiz de Logaritmos</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script type="text/javascript" id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #f06b42 0%, #ffc54a 100%);
      color: #333;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
    }
    .quiz-container {
      background: rgba(255, 255, 255, 0.9);
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      max-width: 800px;
      width: 100%;
      text-align: center;
    }
    .quiz-header {
      color: #d82b2b;
      margin-bottom: 20px;
      font-size: 2.5rem;
      font-weight: 600;
    }
    .question-options {
      display: grid;
      gap: 15px;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      margin-top: 25px;
    }
    .option-button {
      background: #f7f3e8;
      border: 2px solid #e7d5c7;
      border-radius: 15px;
      padding: 15px;
      cursor: pointer;
      font-size: 1rem;
      color: #333;
      transition: all 0.3s ease;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    .option-button:hover {
      background: #e9e0d1;
      transform: translateY(-3px);
      box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
    }
    .option-button.correct {
      background-color: #4CAF50;
      color: white;
      border-color: #4CAF50;
    }
    .option-button.incorrect {
      background-color: #F44336;
      color: white;
      border-color: #F44336;
    }
    .next-button, .start-button {
      background: #d82b2b;
      color: white;
      padding: 15px 30px;
      border-radius: 50px;
      font-size: 1.25rem;
      font-weight: 600;
      cursor: pointer;
      margin-top: 30px;
      transition: transform 0.2s ease, background 0.2s ease;
    }
    .next-button:hover, .start-button:hover {
      background: #b82525;
      transform: translateY(-2px);
    }
    .result {
      font-size: 1.5rem;
      font-weight: 600;
      margin-top: 20px;
      color: #d82b2b;
    }
    .fade-in {
      animation: fadeIn 0.8s ease-in-out;
    }
    .fade-out {
      animation: fadeOut 0.8s ease-in-out forwards;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes fadeOut {
      from { opacity: 1; transform: translateY(0); }
      to { opacity: 0; transform: translateY(20px); }
    }
    .question-counter {
      color: #666;
      font-size: 1rem;
      margin-bottom: 10px;
    }
    .quiz-options-container {
      margin-top: 20px;
    }
    .quiz-options-container button {
      background: #fff;
      border: 2px solid #ccc;
      padding: 10px 20px;
      border-radius: 10px;
      cursor: pointer;
      margin: 0 10px;
      transition: all 0.3s ease;
    }
    .quiz-options-container button:hover, .quiz-options-container button.selected {
      background: #d82b2b;
      color: white;
      border-color: #d82b2b;
      transform: scale(1.05);
    }
    .feedback-message {
      font-size: 1.25rem;
      font-weight: 600;
      margin-top: 15px;
    }
  </style>
</head>
<body>
  <div class="quiz-container">
    <div id="quiz-screen">
      <h1 class="quiz-header">Quiz de Logaritmos</h1>
      <p class="text-lg">Escolha a quantidade de perguntas para começar:</p>
      <div class="quiz-options-container flex justify-center mt-6 mb-8">
        <button id="btn-5" data-count="5">5 Perguntas</button>
        <button id="btn-10" data-count="10">10 Perguntas</button>
        <button id="btn-15" data-count="15">15 Perguntas</button>
      </div>
      <button id="start-btn" class="start-button hidden">Começar Quiz</button>
    </div>

    <div id="question-screen" class="hidden">
      <div class="question-counter">Pergunta <span id="current-q"></span> de <span id="total-q"></span></div>
      <h2 id="question-text" class="text-2xl font-semibold mb-6 text-center"></h2>
      <div id="options-container" class="question-options"></div>
      <div id="feedback-message" class="feedback-message"></div>
      <button id="next-btn" class="next-button hidden mx-auto">Próxima Pergunta</button>
    </div>

    <div id="result-screen" class="hidden">
      <h2 class="result">Fim do Quiz!</h2>
      <p class="text-xl mt-4">Sua pontuação: <span id="score"></span>/<span id="final-total"></span></p>
      <button id="restart-btn" class="next-button mt-8 mx-auto">Jogar Novamente</button>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const quizQuestions = [
        {
          question: "Qual o valor de $\\log_2 8$?",
          options: ["1", "2", "3", "4"],
          answer: "3"
        },
        {
          question: "Se $\\log_x 81 = 4$, qual o valor de $x$?",
          options: ["2", "3", "4", "9"],
          answer: "3"
        },
        {
          question: "Qual a propriedade que afirma que $\\log_b(xy) = \\log_b x + \\log_b y$?",
          options: ["Regra da Potência", "Regra do Quociente", "Regra do Produto", "Regra da Mudança de Base"],
          answer: "Regra do Produto"
        },
        {
          question: "Se $\\log_{10} 1000 = y$, qual o valor de $y$?",
          options: ["1", "2", "3", "4"],
          answer: "3"
        },
        {
          question: "Qual o valor de $\\log_{1/2} 4$?",
          options: ["2", "-2", "4", "1/2"],
          answer: "-2"
        },
        {
          question: "Qual a propriedade que afirma que $\\log_b x^p = p \\cdot \\log_b x$?",
          options: ["Regra do Produto", "Regra do Quociente", "Regra da Potência", "Regra da Mudança de Base"],
          answer: "Regra da Potência"
        },
        {
          question: "Se $\\log_3 x = 2$, qual o valor de $x$?",
          options: ["6", "8", "9", "27"],
          answer: "9"
        },
        {
          question: "Qual o valor de $\\log_4 2$?",
          options: ["1", "2", "0.5", "4"],
          answer: "0.5"
        },
        {
          question: "Qual a base de um logaritmo natural?",
          options: ["10", "e", "2", "1"],
          answer: "e"
        },
        {
          question: "Se $\\log_b 1 = 0$, para qualquer base $b > 0$ e $b \\ne 1$, qual a propriedade utilizada?",
          options: ["Logaritmo da unidade", "Logaritmo da base", "Logaritmo do produto", "Logaritmo da potência"],
          answer: "Logaritmo da unidade"
        },
        {
          question: "Qual o valor de $\\log_{10} (0.1)$?",
          options: ["1", "0", "-1", "10"],
          answer: "-1"
        },
        {
          question: "Qual o valor de $\\log_3 (1/9)$?",
          options: ["2", "-2", "3", "-3"],
          answer: "-2"
        },
        {
          question: "Qual a base mais comum para logaritmos em cálculos científicos e engenharia?",
          options: ["10", "e", "2", "1"],
          answer: "10"
        },
        {
          question: "Se $\\log_b(A/B) = \\log_b A - \\log_b B$, qual a propriedade utilizada?",
          options: ["Regra do Produto", "Regra da Mudança de Base", "Regra da Potência", "Regra do Quociente"],
          answer: "Regra do Quociente"
        },
        {
          question: "Qual o valor de $\\log_5 5$?",
          options: ["0", "1", "5", "25"],
          answer: "1"
        }
      ];

      let currentQuestions = [];
      let currentQuestionIndex = 0;
      let score = 0;
      let totalQuestions = 0;

      const quizScreen = document.getElementById('quiz-screen');
      const questionScreen = document.getElementById('question-screen');
      const resultScreen = document.getElementById('result-screen');
      const startBtn = document.getElementById('start-btn');
      const nextBtn = document.getElementById('next-btn');
      const restartBtn = document.getElementById('restart-btn');
      const optionsContainer = document.getElementById('options-container');
      const questionText = document.getElementById('question-text');
      const currentQSpan = document.getElementById('current-q');
      const totalQSpan = document.getElementById('total-q');
      const scoreSpan = document.getElementById('score');
      const finalTotalSpan = document.getElementById('final-total');
      const feedbackMessage = document.getElementById('feedback-message');

      document.querySelectorAll('.quiz-options-container button').forEach(button => {
        button.addEventListener('click', () => {
          document.querySelectorAll('.quiz-options-container button').forEach(btn => btn.classList.remove('selected'));
          button.classList.add('selected');
          totalQuestions = parseInt(button.dataset.count);
          startBtn.classList.remove('hidden');
        });
      });

      startBtn.addEventListener('click', () => {
        currentQuestions = getRandomQuestions(quizQuestions, totalQuestions);
        quizScreen.classList.add('hidden');
        questionScreen.classList.remove('hidden');
        currentQuestionIndex = 0;
        score = 0;
        loadQuestion();
      });

      nextBtn.addEventListener('click', () => {
        currentQuestionIndex++;
        if (currentQuestionIndex < totalQuestions) {
          loadQuestion();
          nextBtn.classList.add('hidden');
        } else {
          showResults();
        }
      });

      restartBtn.addEventListener('click', () => {
        resultScreen.classList.add('hidden');
        quizScreen.classList.remove('hidden');
        startBtn.classList.add('hidden');
        document.querySelectorAll('.quiz-options-container button').forEach(btn => btn.classList.remove('selected'));
      });

      function getRandomQuestions(arr, num) {
        const shuffled = [...arr].sort(() => 0.5 - Math.random());
        return shuffled.slice(0, num);
      }

      function loadQuestion() {
        const question = currentQuestions[currentQuestionIndex];
        questionText.textContent = question.question;
        optionsContainer.innerHTML = '';
        currentQSpan.textContent = currentQuestionIndex + 1;
        totalQSpan.textContent = totalQuestions;
        feedbackMessage.textContent = ''; // Limpa a mensagem de feedback anterior
        feedbackMessage.classList.remove('text-green-600', 'text-red-600');

        const shuffledOptions = [...question.options].sort(() => Math.random() - 0.5);

        shuffledOptions.forEach(option => {
          const button = document.createElement('button');
          button.textContent = option;
          button.classList.add('option-button');
          button.addEventListener('click', () => checkAnswer(button, option, question.answer));
          optionsContainer.appendChild(button);
        });

        if (window.MathJax) {
          window.MathJax.typesetPromise();
        }
      }

      function checkAnswer(selectedButton, selectedOption, correctAnswer) {
        let isCorrect = selectedOption === correctAnswer;
        const buttons = optionsContainer.querySelectorAll('.option-button');
        buttons.forEach(button => {
          button.disabled = true;
          if (button.textContent === correctAnswer) {
            button.classList.add('correct');
          } else if (button === selectedButton) {
            button.classList.add('incorrect');
          }
        });

        if (isCorrect) {
          score++;
          feedbackMessage.textContent = 'Certo!';
          feedbackMessage.classList.add('text-green-600');
        } else {
          feedbackMessage.textContent = 'Incorreto!';
          feedbackMessage.classList.add('text-red-600');
        }
        
        nextBtn.classList.remove('hidden');
      }

      function showResults() {
        questionScreen.classList.add('hidden');
        resultScreen.classList.remove('hidden');
        scoreSpan.textContent = score;
        finalTotalSpan.textContent = totalQuestions;
      }
    });
  </script>
</body>
</html>
